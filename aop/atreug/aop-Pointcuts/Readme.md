# Pointcut

Pointcut - это выражение описывающее где должен быть применен Advice

Spring AOP испольует AspectJ Pointcut expression language. Т.е определнные правила для написания 
выражений для создания Pointcut  

В классе LibraryTest мы видим, что перед каждым вызовом метода getBook в обоих классах был вызван 
наш аспект.
Это происходи из-ха того что наш POintCut "execution(public void getBook())" подходит под оба 
описания метода

Добавим еще одни аспект, который будет срабатывать только для одно класса

Добавим еще одни метод returnBook класса UniLibrary и убедимся что преед ним ни одни из аспектов 
не срабатывает, т.к. Pointcut не пожходит под его описание

Но иногда нам необходимо, чтобы срабатывали для всем методов начинающихся на get, добавим еще 
одни аспект

Добавим еще одни совет beforeReturnBookAdvice

Мы так же можем добавить ваще совет на любой метод, например beforeAnyAdvice

Можем писать и вот так beforeAnyReturnBookAdvice или так beforeAllReturnBookAdvice и даже вот так beforeAllAdvice

А теперь займемся параметрами метода
Добавим в метод getBook(String bookName) параметр и мы увидим, что теперь наш совет не работает.
Исправим это и теперь все ОК

Теперь мы хотим, чтобы под наш шаблон подходил любой метод с одним параметром, см. beforeGetAnyAdvice

А вот если мы хотим, чтобы подходил любой метод с любым кол-вом параметров (в том числе и без 
параметров) см. beforeGetAnyManyAdvice

А теперь передадим в наш метод параметр в виде объекта см. beforeGetParamBookAdvice
Следует обратить внимание как надо правильно писать объект с полным путем com.treug.aoppointcuts.lib.Book

А вот если нам необходимо указать этот обхект, а дальше все методы с любым кол-воми параметров, см. beforeGetParamBookAndAnyAdvice

## Advert

Создадим еще одни совет LoggingAndSecurityAspect
 и мы хотеим сделать проверку прав людей которые хотят взять книгу
и мы видим, что у нас получилось два одинаковых Pointcut
Для того чтобы использовать одинаковые Pointcut есть возможность обьявить его один раз а затем 
использовать сколько угодно раз
Делается это с помощью пустого метода, который в данном случае нужен только для того чтобы можно 
было сослаться на наш Pointcut, см. allGetMethod

## Комбинирование Pointcut

Сначала создадим отдельные методы для всех get и return. И допустим у нас есть задача создать 
общий лог для методов get и return.
Вот тут нам и погнаобится логический Pointcut, т.е. мы можем с помощью логических операций 
совмещать их (&& || !)


